<div class="m-4" *ngIf="viewMode; else editable">
  <h3>Dane szczegółowe</h3>
  <div class="fade-in-element basic-data" *ngIf="currentAphid.id">
    <div class="field grid">
      <div class="col-fixed label">Gatunek:</div>
      <div class="col value">
        {{currentAphid.name}}
      </div>
    </div>
    <div class="field grid">
      <div class="col-fixed label">Data pozyskania:</div>
      <div class="col value">
        {{currentAphid.date | dateTime}}
      </div>
    </div>
    <div class="field grid">
      <div class="col-fixed label">Długość tułowia:</div>
      <div class="col value">
        {{currentAphid.length_of_body}}
      </div>
    </div>
    <div class="field grid">
      <div class="col-fixed label">hind_femora_length:</div>
      <div class="col value">
        {{currentAphid.hind_femora_length}}
      </div>
    </div>
    <div class="field grid">
      <div class="col-fixed label">hind_tibia_lenght:</div>
      <div class="col value">
        {{currentAphid.hind_tibia_lenght}}
      </div>
    </div>
    <div class="field grid">
      <div class="col-fixed label">number_of_setae_on_cauda:</div>
      <div class="col value">
        {{currentAphid.number_of_setae_on_cauda}}
      </div>
    </div>
    <div class="field grid">
      <div class="col-fixed label">cauda_length:</div>
      <div class="col value">
        {{currentAphid.cauda_length}}
      </div>
    </div>
    <button pButton class="p-button p-button-outlined" type="button" label="Edytuj" icon="pi pi-pencil" routerLink="/aphids/{{ currentAphid.id }}"></button>
  </div>
  <div *ngIf="!currentAphid.name">
    <p>Wybierz mszycę z listy ...</p>
  </div>
</div>
<ng-template #editable>
  <div *ngIf="currentAphid.id" class="edit-form">
     <form class="formgroup" autocomplete="off" [formGroup]="mainFg" (submit)="updateAphid()">
      <div class="field grid">
        <label for="name" class="col-fixed">Gatunek</label>
        <div class="col validated-input-container">
          <input pInputText id="name" type="text" autocomplete="off" [formControl]="nameFc">
          <small class="p-invalid" *ngFor="let error of nameFc.errors | keyvalue">{{error.value}}</small>
        </div>
      </div>
      <div class="field grid">
        <label for="date" class="col-fixed">Data pozyskania</label>
        <div class="col validated-input-container">
          <p-calendar [style]="{'width':'20rem'}" id="date" [showButtonBar]="true" [formControl]="dateFc"></p-calendar>
          <small class="p-invalid" *ngFor="let error of dateFc.errors | keyvalue">{{error.value}}</small>
        </div>
      </div>
      <div class="field grid">
        <label for="length_of_body" class="col-fixed">Długość tułowia</label>
        <div class="col validated-input-container">
          <input pInputText id="length_of_body" type="text" autocomplete="off" [formControl]="lengthOfBodyFc">
          <small class="p-invalid" *ngFor="let error of lengthOfBodyFc.errors | keyvalue">{{error.value}}</small>
        </div>
      </div>
      <div class="field grid">
        <label for="hind_femora_length" class="col-fixed">hind_femora_length</label>
        <div class="col validated-input-container">
          <input pInputText id="hind_femora_length" type="text" autocomplete="off" [formControl]="hindFemoraLengthFc">
          <small class="p-invalid" *ngFor="let error of hindFemoraLengthFc.errors | keyvalue">{{error.value}}</small>
        </div>
      </div>
      <div class="field grid">
        <label for="hind_tibia_lenght" class="col-fixed">hind_tibia_lenght</label>
        <div class="col validated-input-container">
          <input pInputText id="hind_tibia_lenght" type="text" autocomplete="off" [formControl]="hindTibiaLenghtFc">
          <small class="p-invalid" *ngFor="let error of hindTibiaLenghtFc.errors | keyvalue">{{error.value}}</small>
        </div>
      </div>
      <div class="field grid">
        <label for="number_of_setae_on_cauda" class="col-fixed">number_of_setae_on_cauda</label>
        <div class="col validated-input-container">
          <input pInputText id="number_of_setae_on_cauda" type="text" autocomplete="off"
                 [formControl]="numberOfSetaeOnCaudaFc">
          <small class="p-invalid"
                 *ngFor="let error of numberOfSetaeOnCaudaFc.errors | keyvalue">{{error.value}}</small>
        </div>
      </div>
      <div class="field grid">
        <label for="cauda_length" class="col-fixed">cauda_length</label>
        <div class="col validated-input-container">
          <input pInputText id="cauda_length" type="text" autocomplete="off" [formControl]="caudaLengthFc">
          <small class="p-invalid" *ngFor="let error of caudaLengthFc.errors | keyvalue">{{error.value}}</small>
        </div>
      </div>
       <div class="buttons">
               <button pButton icon="pi pi-check" type="submit" label="Aktualizuj"></button>
       <button pButton class="p-button p-button-danger" type="button" label="Usuń" icon="pi pi-times" (click)="deleteAphid()"></button>
       </div>
    </form>
    <p>{{ message }}</p>
  </div>
  <div *ngIf="!currentAphid.id">
    <br/>
    <p>Nie można wyświetlić szczegółów tej mszycy ...</p>
  </div>
</ng-template>
